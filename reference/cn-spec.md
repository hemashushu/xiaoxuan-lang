# 中文文法

1. 使用独立的 Lex 和 Parser
1. 不使用空格分词；
2. 不使用全角标点符号；
3. 不使用书面上容易混淆的标点符号；
4. 语句可连续写（使用分号分隔）
5. 格式靠近普通文章，比如使用项目符号表示 case，使用括号表示进一步描述等。

## 分词规则

依据下面词语来分词：

* 字面量
* 关键字
* 导入的名称

示例：

`赋值整数累加值予一二三`

1. "赋值"，"予" 是关键字，"一二三" 是整数字面量，所以句子被分词为：

   `赋值 整数累加值 予 一二三`

2. "整数" 是预导入的（数据类型的）名称，所以句子被分词为：

   `赋值 整数 累加值 予 一二三`

### 使用一对花括号（单引号）包围变量名、函数名

当变量名或函数名包含有关键字、或者导入名称时，可以使用一对花括号包围起来，示例：

```js
赋值用户{用户甲}予用户::新建(100, "张三")
赋值用户{用户乙}予用户::新建(101, "李四")

函数用户{首个用户}(序列<用户>{用户列表})
    {用户列表}.第一个()
以上
```

```js
赋值用户'用户甲'予用户::新建(100, "张三")
赋值用户'用户乙'予用户::新建(101, "李四")

函数用户'首个用户'(序列<用户>'用户列表')
    '用户列表'.第一个()
以上
```

## 紧凑写法

使用分号可以将一行语句分为多行，示例：

```js
使用数学::{平方,平方根}
令勾等于三;令股等于四;令弦等于平方根(平方(勾),平方(股))
格式化书写行("斜边长 {:D}",弦)
```

```js
use Math::{square, sqrt}
assign x as 3; assign y as 4; assign z as sqrt(square(x), square(y))
writeLineFormat("distance {}",z)
```

## 示例

```js
让字符串变量甲="你好"
让变量乙=`世界 {变量甲}`
书写行(变量甲)

赋值字符串变量甲予"你好"
赋值变量乙予`世界 {变量甲}`
书写行(变量甲)

让数甲=一二三
让数乙=四五六
让变量丙=最大值(数甲,数乙)

赋值甲予一二三
赋值乙予四五六
赋值变量丙予最大值(数甲,数乙)

函数整数最大值(整数左手值, 整数右手值)
    如果左手值:大于:右手值那么
        左手值
    否则
        右手值
    以上
以上

函数序列<甲型>排序<甲型>(序列<甲型>列)
    类型甲型限制(可排序,可比较)
    ...
以上

结构用户
    整数编号
    字符串姓名
以上

实现用户特性可比较
    关联类型目标类型=用户
    函数逻辑相等(本型左手值, 用户右手值)=左手值.编号==右手值.编号
以上

让用户甲=用户::新建(123,"张三")
让用户乙=用户::新建(456,"李四")
断定::相等(用户甲,用户乙)
```